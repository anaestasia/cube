[{"C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\index.js":"1","C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\reportWebVitals.js":"2","C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\App.js":"3","C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\Catalog\\Catalog.js":"4","C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\home\\Home.js":"5","C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\footer\\Footer.js":"6","C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\ressource\\MyRessources\\MyRessources.js":"7","C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\ressource\\Favorites\\Favorites.js":"8","C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\404\\404.js":"9","C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\admin\\Admin.js":"10","C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\403\\403.js":"11","C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\token\\token.js":"12","C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\ressource\\RessourceNotConnected\\RessourceNotConnected.js":"13","C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\profile\\Profile.js":"14","C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\menu\\MenuNav\\Menu.js":"15","C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\admin\\approvedRessources\\ApprovedRessources.js":"16","C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\form\\RessourceForm\\RessourceForm.js":"17","C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\form\\RegisterForm\\RegisterForm.js":"18","C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\ressource\\Ressource.js":"19","C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\form\\RegisterForm\\InputEmail.js":"20","C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\form\\RegisterForm\\InputFirstname.js":"21","C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\form\\RegisterForm\\InputCity.js":"22","C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\form\\RegisterForm\\InputStreetNb.js":"23","C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\form\\RegisterForm\\InputStreetName.js":"24","C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\form\\RegisterForm\\InputLastname.js":"25","C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\form\\RegisterForm\\InputCountry.js":"26","C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\form\\RegisterForm\\InputPostalCode.js":"27","C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\form\\LoginForm\\LoginForm.js":"28","C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\form\\RegisterForm\\InputPassword.js":"29","C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\menu\\MenuNav\\SubMenuNav\\MenuRessources.js":"30","C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\Catalog\\CatalogSearch\\CatalogSearch.js":"31","C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\tables\\typeressources.js":"32","C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\tables\\roles.js":"33","C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\tables\\typerelationship.js":"34","C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\tables\\punishement.js":"35","C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\tables\\reason.js":"36","C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\tables\\categories.js":"37","C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\menu\\MenuNav\\SubMenuNav\\MenuUser.js":"38","C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\menu\\MenuNav\\SubMenuNav\\MenuBackOffice.js":"39","C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\ressource\\Comment\\Comment.js":"40","C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\buttons\\SubmitBtn\\SubmitBtn.js":"41","C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\ressource\\Writecomment\\writeComment.js":"42","C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\tables\\table.js":"43","C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\ressource\\Pagination.js":"44","C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\ressource\\Comment\\Posts.js":"45","C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\ressource\\vignetteRessource\\vignetteRessource.js":"46","C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\ressource\\VignetteRessource\\vignetteRessource.js":"47"},{"size":696,"mtime":1615816928684,"results":"48","hashOfConfig":"49"},{"size":375,"mtime":1615815397690,"results":"50","hashOfConfig":"49"},{"size":8390,"mtime":1615980845093,"results":"51","hashOfConfig":"49"},{"size":1302,"mtime":1615908183145,"results":"52","hashOfConfig":"49"},{"size":1784,"mtime":1615823684170,"results":"53","hashOfConfig":"49"},{"size":1269,"mtime":1615816928468,"results":"54","hashOfConfig":"49"},{"size":272,"mtime":1615816928661,"results":"55","hashOfConfig":"49"},{"size":299,"mtime":1615816928660,"results":"56","hashOfConfig":"49"},{"size":641,"mtime":1615816928461,"results":"57","hashOfConfig":"49"},{"size":1020,"mtime":1615816928464,"results":"58","hashOfConfig":"49"},{"size":610,"mtime":1615816928460,"results":"59","hashOfConfig":"49"},{"size":943,"mtime":1615816928671,"results":"60","hashOfConfig":"49"},{"size":676,"mtime":1615816928664,"results":"61","hashOfConfig":"49"},{"size":2389,"mtime":1615816928656,"results":"62","hashOfConfig":"49"},{"size":2427,"mtime":1615816928652,"results":"63","hashOfConfig":"49"},{"size":4060,"mtime":1615816928465,"results":"64","hashOfConfig":"49"},{"size":7152,"mtime":1615906269565,"results":"65","hashOfConfig":"49"},{"size":6373,"mtime":1615816928647,"results":"66","hashOfConfig":"49"},{"size":12401,"mtime":1615980395027,"results":"67","hashOfConfig":"49"},{"size":3771,"mtime":1615816928642,"results":"68","hashOfConfig":"49"},{"size":2246,"mtime":1615816928643,"results":"69","hashOfConfig":"49"},{"size":2192,"mtime":1615816928633,"results":"70","hashOfConfig":"49"},{"size":2290,"mtime":1615816928645,"results":"71","hashOfConfig":"49"},{"size":2291,"mtime":1615816928645,"results":"72","hashOfConfig":"49"},{"size":2190,"mtime":1615816928643,"results":"73","hashOfConfig":"49"},{"size":2246,"mtime":1615816928634,"results":"74","hashOfConfig":"49"},{"size":2324,"mtime":1615816928644,"results":"75","hashOfConfig":"49"},{"size":1190,"mtime":1615823684168,"results":"76","hashOfConfig":"49"},{"size":5939,"mtime":1615816928644,"results":"77","hashOfConfig":"49"},{"size":1191,"mtime":1615816928654,"results":"78","hashOfConfig":"49"},{"size":6551,"mtime":1615906269554,"results":"79","hashOfConfig":"49"},{"size":4272,"mtime":1615816928670,"results":"80","hashOfConfig":"49"},{"size":4086,"mtime":1615816928668,"results":"81","hashOfConfig":"49"},{"size":4290,"mtime":1615816928669,"results":"82","hashOfConfig":"49"},{"size":4277,"mtime":1615816928667,"results":"83","hashOfConfig":"49"},{"size":4229,"mtime":1615816928668,"results":"84","hashOfConfig":"49"},{"size":4224,"mtime":1615816928666,"results":"85","hashOfConfig":"49"},{"size":3233,"mtime":1615816928655,"results":"86","hashOfConfig":"49"},{"size":2281,"mtime":1615816928654,"results":"87","hashOfConfig":"49"},{"size":1744,"mtime":1615906269576,"results":"88","hashOfConfig":"49"},{"size":393,"mtime":1615816928467,"results":"89","hashOfConfig":"49"},{"size":2444,"mtime":1615980246924,"results":"90","hashOfConfig":"49"},{"size":279,"mtime":1615816928669,"results":"91","hashOfConfig":"49"},{"size":2599,"mtime":1615906269586,"results":"92","hashOfConfig":"49"},{"size":3354,"mtime":1615980862175,"results":"93","hashOfConfig":"49"},{"size":1394,"mtime":1615886514718,"results":"94","hashOfConfig":"49"},{"size":1394,"mtime":1615886514718,"results":"95","hashOfConfig":"49"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},"1tmxi8m",{"filePath":"99","messages":"100","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"101","messages":"102","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"103","messages":"104","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"105","messages":"106","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"107","messages":"108","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"109","messages":"110","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"111","messages":"112","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"113","messages":"114","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"115","messages":"116","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"117","messages":"118","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"119","messages":"120","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"121","messages":"122","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"123","messages":"124","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"125","messages":"126","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"127","messages":"128","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"129","messages":"130","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"131","messages":"132","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"133","messages":"134","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"135","usedDeprecatedRules":"98"},{"filePath":"136","messages":"137","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"138","messages":"139","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"140","messages":"141","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"142","messages":"143","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"144","messages":"145","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"146","messages":"147","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"148","messages":"149","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"150","messages":"151","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"152","messages":"153","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"154","messages":"155","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"156","messages":"157","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"158","messages":"159","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"160","messages":"161","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"162","messages":"163","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"164","messages":"165","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"166","messages":"167","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"168","messages":"169","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"170","messages":"171","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"172","messages":"173","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"174","messages":"175","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"176","messages":"177","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"178","messages":"179","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"180","messages":"181","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"182","messages":"183","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"184","messages":"185","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"186","messages":"187","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"188","messages":"189","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"190","messages":"191","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},"C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\index.js",[],["192","193"],"C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\reportWebVitals.js",[],"C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\App.js",[],"C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\Catalog\\Catalog.js",[],"C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\home\\Home.js",[],"C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\footer\\Footer.js",[],"C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\ressource\\MyRessources\\MyRessources.js",[],"C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\ressource\\Favorites\\Favorites.js",[],"C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\404\\404.js",[],"C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\admin\\Admin.js",[],"C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\403\\403.js",[],"C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\token\\token.js",[],"C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\ressource\\RessourceNotConnected\\RessourceNotConnected.js",[],"C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\profile\\Profile.js",[],"C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\menu\\MenuNav\\Menu.js",[],"C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\admin\\approvedRessources\\ApprovedRessources.js",[],"C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\form\\RessourceForm\\RessourceForm.js",[],"C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\form\\RegisterForm\\RegisterForm.js",[],"C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\ressource\\Ressource.js",["194"],"import React, { useState , useEffect } from \"react\";\r\nimport { useParams } from 'react-router-dom';\r\nimport Axios from \"axios\";\r\nimport Button from 'react-bootstrap/Button'\r\n\r\n// import ClassicEditor from '@ckeditor/ckeditor5-build-classic';\r\n// import { CKEditor } from '@ckeditor/ckeditor5-react';\r\n// import '@ckeditor/ckeditor5-build-classic/build/translations/fr.js';\r\nimport { CKEditor } from 'cube-project-ril/ckeditor5-react';\r\nimport ClassicEditor from 'cube-project-ril/ckeditor5-mon-build'\r\n\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Col from 'react-bootstrap/Col';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Comments from './Comment/Comment'\r\nimport WriteComment from './Writecomment/writeComment'\r\n\r\nimport './Ressource.css';\r\n\r\n    export default function Ressource(){\r\n        \r\n        const { id } = useParams();\r\n\r\n        const [show, setShow] = useState(false);\r\n\r\n        const [contenuCommentsCkeditor, setContenuCommentsCkeditor] = useState(\"\");\r\n\r\n        const [idUserConnecte, setIdUserConnecte] = useState(\"\");\r\n        const [idUserAuteur, setIdUserAuteur] = useState(\"\");\r\n        const [role, setRole] = useState(\"\");\r\n\r\n        const [categorie, setCategorie] = useState(\"\");\r\n        const [typeRelation, setTypeRelation] = useState(\"\");\r\n        const [typeRessource, setTypeRessource] = useState(\"\");\r\n        const [message, setMessage] = useState(\"\");\r\n        const [title, setTitle] = useState(\"\");\r\n        const [nbLike, setNbLike] = useState(\"\");\r\n        const [auteur, setAuteur] = useState(\"\");\r\n        const [date_creation, setDate_creation] = useState(\"\");\r\n        const [date_edition, setDate_edition] = useState(\"\");\r\n        const [nombreVue, setNombreVue] = useState(\"\");\r\n        const [vueIncremente, setVueIncremente] = useState(false);\r\n        \r\n        const [ecrireCommentaire, setEcrireCommentaire] = useState(false);\r\n\r\n        Axios.defaults.withCredentials = true;\r\n\r\n        useEffect(() => \r\n        {\r\n            const verifRole = (role) => {\r\n                if (isNaN(id)) \r\n                {\r\n                    window.location.href = \"/404\";\r\n                }\r\n                else\r\n                {\r\n                    Axios.post(process.env.REACT_APP_SITE_URL_API+\"/ressources/getid\", {\r\n                        id: id,\r\n                      }).then((response) => {\r\n                          console.log(response)\r\n                        if (response.data.existe) {\r\n                            if(response.data.result[0].namestatus === 'privée')\r\n                            {\r\n                                if(role >= 2)\r\n                                {\r\n                                    setCategorie(response.data.lesCategories);\r\n                                    setTypeRelation(response.data.result[0].namerelationship);\r\n                                    setTypeRessource(response.data.result[0].nametyperss); //a modifier\r\n                                    setMessage(response.data.result[0].content);  \r\n                                    setContenuCommentsCkeditor(response.data.result[0].content); \r\n                                    setTitle(response.data.result[0].title);\r\n                                    setDate_creation(response.data.result[0].date_creation);\r\n                                    setDate_edition(response.data.result[0].date_edition);\r\n                                    setAuteur(response.data.user[0].lastname + \" \"+ response.data.user[0].firstname);\r\n                                    setIdUserAuteur(response.data.user[0].fk_user);\r\n                                    setNombreVue(response.data.result[0].nb_consultation);\r\n                                    //ajout nombre de vue :\r\n                                    if(!vueIncremente)\r\n                                    {\r\n                                        Axios.post(process.env.REACT_APP_SITE_URL_API+\"/ressources/addVue\", {\r\n                                            id: id,\r\n                                            nb_consultation: nombreVue+1,\r\n                                            });\r\n                                            setVueIncremente(true)\r\n                                    }\r\n                                    //fin ajout nombre de vue \r\n                                }\r\n                                else\r\n                                {\r\n                                   window.location.href = \"/ressourcenonConnecte\";\r\n                                }\r\n                                //renvoyer sur une page veuillez vous connecté pour voir cette article \r\n                                //si la personne n'est pas connecté  \r\n                            }\r\n                            else //public \r\n                            {\r\n                                setCategorie(response.data.lesCategories);\r\n                                setTypeRelation(response.data.result[0].namerelationship);\r\n                                setTypeRessource(response.data.result[0].nametyperss); //a modifier\r\n                                setMessage(response.data.result[0].content);  \r\n                                setContenuCommentsCkeditor(response.data.result[0].content); \r\n                                setTitle(response.data.result[0].title);\r\n                                setDate_creation(response.data.result[0].date_creation);\r\n                                setDate_edition(response.data.result[0].date_edition);\r\n                                setAuteur(response.data.user[0].lastname + \" \"+ response.data.user[0].firstname);\r\n                                setIdUserAuteur(response.data.user[0].fk_user);\r\n                                setNombreVue(response.data.result[0].nb_consultation);\r\n                                //ajout nombre de vue :\r\n                                if(!vueIncremente)\r\n                                {\r\n                                    Axios.post(process.env.REACT_APP_SITE_URL_API+\"/ressources/addVue\", {\r\n                                        id: id,\r\n                                        nb_consultation: nombreVue+1,\r\n                                        });\r\n                                        setVueIncremente(true)\r\n                                }\r\n                                //fin ajout nombre de vue \r\n                            }\r\n                        }\r\n                        else\r\n                        {\r\n                            window.location.href = \"/main\";\r\n                        }\r\n                      });\r\n                }\r\n            }\r\n            \r\n            Axios.get(process.env.REACT_APP_SITE_URL_API+\"/users/login\").then((response) => {\r\n                if (response.data.loggedIn === true) {\r\n                  verifRole(response.data.user[0].fk_role);\r\n                  setIdUserConnecte(response.data.user[0].id);\r\n                  setEcrireCommentaire(true);\r\n                  setRole(response.data.user[0].fk_role);\r\n                }\r\n                else\r\n                {\r\n                    verifRole(0);\r\n                }\r\n              });\r\n\r\n              getNbLike();\r\n\r\n        }, [id,nombreVue,vueIncremente]);\r\n        \r\n\r\n        const handleClose = () => setShow(false);\r\n\r\n        const handleShow = (id) => {\r\n            setShow(true)\r\n          }\r\n\r\n        const handleCkeditorState = (event,editor) => {\r\n            const data = editor.getData();\r\n            setContenuCommentsCkeditor(data);\r\n          }\r\n          \r\n        const editRessource = () => \r\n        {\r\n        //   content = req.body.content;\r\n        // const id\r\n            const date = new Date();\r\n            const sqlDate = date.getFullYear()+\"-\"+(date.getMonth()+1)+\"-\"+date.getDate()+\" \"+(date.getHours())+\":\"+date.getMinutes()+\":\"+date.getSeconds();\r\n\r\n            Axios.post(process.env.REACT_APP_SITE_URL_API+\"/ressources/editRessource\", {\r\n            id: id,\r\n            content: contenuCommentsCkeditor,\r\n            date_edition:sqlDate\r\n            }).then((response) => {\r\n                if(response.data.verif)\r\n                {\r\n                    setShow(false)\r\n                    setMessage(contenuCommentsCkeditor);\r\n                }\r\n        });\r\n        }\r\n\r\n        const likeRessource = () =>\r\n        {\r\n            if(idUserConnecte !== '')\r\n            {\r\n                Axios.post(process.env.REACT_APP_SITE_URL_API+\"/ressourcesLike/create\",{\r\n                user: idUserConnecte,\r\n                ressource: id\r\n                }).then((response) => \r\n                {\r\n                    getNbLike();\r\n                });\r\n            }\r\n            else\r\n            {\r\n                alert('Veuillez vous connecter :-)');\r\n            }\r\n        }\r\n\r\n        const getNbLike = () =>\r\n        {\r\n            Axios.post(process.env.REACT_APP_SITE_URL_API+\"/ressourcesLike/get/nbLike\", \r\n            {\r\n                ressource: 49,\r\n            }).then((response) => \r\n            {\r\n                setNbLike(response.data[0].nbLike)\r\n            });\r\n        }\r\n\r\n\r\n        return (\r\n            <>\r\n            <Modal size=\"lg\" show={show} onHide={handleClose}>\r\n                <Modal.Header closeButton>\r\n                <Modal.Title>Modifier la ressource </Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                <CKEditor\r\n                    editor={ ClassicEditor }\r\n                    onReady={ editor => {\r\n                        // You can store the \"editor\" and use when it is needed.\r\n                        console.log( 'Editor is ready to use!', editor );\r\n                    } }\r\n                    onChange={ ( event, editor ) => {\r\n                        const data = editor.getData();\r\n                        console.log( { event, editor, data } );\r\n                    } }\r\n                    onBlur={ ( event, editor ) => {\r\n                        console.log( 'Blur.', editor );\r\n                    } }\r\n                    onFocus={ ( event, editor ) => {\r\n                        console.log( 'Focus.', editor );\r\n                    } }\r\n                />\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                <Button variant=\"danger\" onClick={handleClose}>\r\n                    fermer\r\n                </Button>\r\n                <Button variant=\"warning\" onClick={editRessource}>\r\n                    Modifier\r\n                </Button>\r\n                </Modal.Footer>\r\n            </Modal>\r\n\r\n            <div className=\"ressource-container\">\r\n                <div>\r\n                    <h2>{title} <i className=\"fas fa-external-link-alt\"></i></h2>\r\n                    <span><i className=\"fas fa-thumbs-up\" onClick={likeRessource}></i> {nbLike}</span>\r\n                    <span><i className=\"fas fa-ellipsis-v\"></i><i className=\"far fa-heart\"></i><i className=\"fas fa-reply\"></i></span>\r\n                </div>\r\n                <ul>\r\n                    <li className=\"ressource-categorie\"> <i className=\"fas fa-folder-open\"> </i> Catégorie : {categorie}</li>\r\n                    <li className=\"ressource-type-relation\"> <i className=\"fas fa-users\"></i> Type(s) de relation : {typeRelation} </li>\r\n                    <li className=\"ressource-type-ressource\"> <i className=\"fas fa-file-alt\"></i> Type(s) de ressource : {typeRessource} </li>\r\n                </ul>\r\n                <div className=\"content\" dangerouslySetInnerHTML={{__html: message}}></div>\r\n                <hr />\r\n                    <div>Auteur : {auteur}</div>\r\n                    <div>Date création : {date_creation.substring(8,10)}/{date_creation.substring(5,7)}/{date_creation.substring(0,4)} à {date_creation.substring(11,19)}</div>\r\n                    {date_creation !== date_edition && <>Dernière modification : {date_edition.substring(8,10)}/{date_edition.substring(5,7)}/{date_edition.substring(0,4)} à {date_edition.substring(11,19)} <br /></> }\r\n                    {(idUserConnecte === idUserAuteur || role >=4) && <Button variant=\"primary\" onClick={() => {handleShow(id); }}> Edit </Button> }\r\n                    Nombre de vue : {nombreVue}\r\n            </div>\r\n            <Row className=\"row-comment\"><Comments /></Row>\r\n            <Row className=\"row-write-comment\"> {ecrireCommentaire ? <WriteComment /> : <Col />}</Row>\r\n            </>\r\n        );\r\n    }\r\n\r\n","C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\form\\RegisterForm\\InputEmail.js",[],"C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\form\\RegisterForm\\InputFirstname.js",[],"C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\form\\RegisterForm\\InputCity.js",[],"C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\form\\RegisterForm\\InputStreetNb.js",[],"C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\form\\RegisterForm\\InputStreetName.js",[],"C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\form\\RegisterForm\\InputLastname.js",[],"C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\form\\RegisterForm\\InputCountry.js",[],"C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\form\\RegisterForm\\InputPostalCode.js",[],"C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\form\\LoginForm\\LoginForm.js",[],"C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\form\\RegisterForm\\InputPassword.js",[],"C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\menu\\MenuNav\\SubMenuNav\\MenuRessources.js",[],"C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\Catalog\\CatalogSearch\\CatalogSearch.js",[],"C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\tables\\typeressources.js",[],"C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\tables\\roles.js",[],"C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\tables\\typerelationship.js",[],"C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\tables\\punishement.js",[],"C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\tables\\reason.js",[],"C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\tables\\categories.js",[],"C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\menu\\MenuNav\\SubMenuNav\\MenuUser.js",[],"C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\menu\\MenuNav\\SubMenuNav\\MenuBackOffice.js",[],"C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\ressource\\Comment\\Comment.js",[],"C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\buttons\\SubmitBtn\\SubmitBtn.js",[],"C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\ressource\\Writecomment\\writeComment.js",[],"C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\tables\\table.js",[],"C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\ressource\\Pagination.js",[],"C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\ressource\\Comment\\Posts.js",[],"C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\ressource\\vignetteRessource\\vignetteRessource.js",[],"C:\\Users\\Utilisateur\\Desktop\\CUBE\\cube\\client\\src\\components\\ressource\\VignetteRessource\\vignetteRessource.js",[],{"ruleId":"195","replacedBy":"196"},{"ruleId":"197","replacedBy":"198"},{"ruleId":"199","severity":1,"message":"200","line":152,"column":15,"nodeType":"201","messageId":"202","endLine":152,"endColumn":34},"no-native-reassign",["203"],"no-negated-in-lhs",["204"],"no-unused-vars","'handleCkeditorState' is assigned a value but never used.","Identifier","unusedVar","no-global-assign","no-unsafe-negation"]